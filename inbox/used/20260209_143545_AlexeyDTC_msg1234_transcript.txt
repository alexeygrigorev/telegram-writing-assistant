---
source: telegram_voice
date: 2026-02-09T14:35:45+00:00
user_id: 822266080
username: AlexeyDTC
audio_file: 20260209_143545_AlexeyDTC_msg1234.ogg
---

вот я сейчас готовлюсь к курсу и там в курсе сейчас секция про агенты и там я вот минсер че есть два
индекса ну да вообще несколько ну ладно есть вот для текстового поиска есть два индекса один простой
индекс 2 appendable index разница между ними что первый индекс ты просто берешься документы один раз
индексируешь и все туда добавлять ничего нельзя в этот индекс то То есть это максимально простая
имплементация, и ее мы как раз на курсе используем. В секции в модуле про агенты мне нужно уметь
добавлять в индекс. Я хочу показывать, как агент, ну я с агентом общаюсь, и потом с помощью агента я
могу добавить что-то обратно в индекс. То есть какой-то документ, которого там не было, он добавляет
в индекс нашу поисковую систему, и он становится доступным для поиска. Вот. Это основная идея для
Appendable Index. Вот. И он был жутко медленный. То есть я его когда-то давно имплементировал, тоже
с помощью Copilot или, не помню, Coursor, наверное. Вот. Ну, короче, там была максимально простая То
есть я сказал Клоду, вот смотри, давай выберем какой-нибудь датасет. Текстовый, достаточно большой.
Не супер большой, но такой, достаточно большой. И на основе этого датасета сделаем бенчмарк. Мы
запустим обычный индекс. И обычный индекс использует Scikit-Learn внутри. И запустим appendable
index. И посмотрим, во сколько раз медленнее. Оказалось, что 100 раз медленнее appendable index. Мы
проверили это. Взяли документы из Simple Wikipedia. Я предложил к Клоду, говорю, вот хороший датасет
Simple Wikipedia. Это не большая Википедия на английском, она очень большая. а это ну маленькая
википедия где там простым английским языком объяснены какие-то вещи да то есть без для уровня не
знаю там бы один может а2 ну короче максимально простая и он небольшой будет очень удобно как раз
использовать бенчмарках его в таких для потому что мне я не пытаюсь 400 400 1000 делать что пендамон
так стал во много очень много раз медленнее на горы давай теперь улучшать он что-то там подумал
подумал и улучшил да и теперь этот индекс работает об эндобелл индекс работает быстрее чем
изначальный который используется отелем под капотом вот я детали не знаю я попросил его все
документируя задокументировать естественно но классно что вот на такие задачи можно использовать в
принципе любого ассистента можно но в конкретно в этом случае я клада использовал ну и самое главное
сказал вот сохранить результаты вот ты запускаешь benchmark сохранить результаты и давай сейчас
экспериментировать с тем что мы будем улучшать его но при этом каждый раз когда ты запускаешь какое-
то улучшение проверяй что результаты совпадают с изначальными да то есть он запустил и проверяет что
ничего там не поменялось да мы в итоге сейчас этот об энд обл индекс работает быстрее чем обычный и
мы запустили его на 150 тысяч тысячи документах Simple Wikipedia simple 1000 C2 instance 8 там. Он
это сделал, создал instance, запустил там, побенчмаркал, сообщил мне результаты. И в итоге
оказалось, что на больших датасетах этот simple index он поиск быстрее, а добавление в индекс
медленнее да но это в принципе логично потому что как раз мы же ну не добавление создание индекса да
то есть обычный индекс он быстро создается потому что там какие штуки и соки тлона используется
который быстрый а тот мы один одну строчку каждый документ отдельно добавляем да то есть поэтому он
медленнее но получается там полтора раза что ли медленнее чем индекс но зато поиск намного быстрее
вот такой эксперимент с код-кодом был как раз на моей библиотеке и это было пока я параллельно
занимался курсом то есть я делаю курс я ему сказал вот википедия давай дело benchmark и давай
улучшая результаты я щас вернулся смотрю результаты все классно то есть я конечно руководил но это
типа раз в час я заглядывал, что там в терминале происходит. И все. Ну, короче, классно.