---
source: telegram_voice
date: 2026-01-17T07:33:21+00:00
user_id: 822266080
username: AlexeyDTC
audio_file: 20260117_073321_AlexeyDTC.ogg
---

Так, ну и сейчас у нас куча кода, который я, собственно, не читал, но мне, чем больше мы изменяем, тем страшнее мне становится, что он может рассыпаться. Давай начнем писать тесты. Подумай, какие тесты тут больше всего подходят. Вот там юнит интеграционный. в принципе так как мы интеграционные можно делать прям склад кодом бросить его какую-то простую задачу сделать ну например вот как прочитая файлы которые там и выведи результат да то есть так как мы можем сейчас задавать prompt для этого то мы можем просто интеграцию проверить что она действительно работает. Ну и какие-то вещи. То есть, grog мы можем мокнуть, то есть нам необязательно его наличие. То есть, в такие юнитесты можно его просто мокнуть, и что на картинку возвращается там какой-то запрос, что появляется файл. То есть, это все мы можем делать делать какой-нибудь тестовый tmp директории, но хочется протестировать весь флоу, потому что сейчас у нас тестов нету и я боюсь, что одно неправильное изменение приведет к тому, что код попадает. Давай проанализируем сценарий, который мы можем протестировать и напишем эти тесты. Unit-тесты, где мы мокаем и интеграционный тест с кодом.