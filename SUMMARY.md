# Telegram → GitHub Article Assistant — Summary

## Идея

Я использую Telegram как входную точку для мыслей:
- текстовые сообщения
- голосовые сообщения
- изображения

Бот:
- сохраняет всё локально
- голосовые сообщения транскрибирует (Groq Whisper)
- складывает всё в git-репозиторий
- по команде запускает агент (Claude Code), который:
  - анализирует накопленные материалы
  - обновляет существующие статьи
  - либо создаёт новые
  - коммитит результат в GitHub
  - присылает ссылку на коммит обратно в Telegram

Цель — **накапливать находки и черновики для статей**, не думая о структуре в момент записи.

---

## Используемые компоненты

- Telegram Bot API — приём сообщений
- Groq Whisper — транскрипция аудио (бесплатный план с лимитами)
- Git + GitHub — хранение и контроль изменений
- Claude Code — агент для обработки материалов и редактирования статей
- Markdown — основной формат данных

---

## Структура репозитория (Obsidian-style)

```
repo/
  articles/
    _index.md              # список статей + краткие описания
    article-1.md
    article-2.md

  inbox/
    raw/                   # новые материалы (текст, аудио, картинки)
    used/                  # уже обработанные

  assets/
    images/

  scripts/
    process_inbox.py       # запуск Claude Code

  logs/
    claude_runs/

  SUMMARY.md
```

Принцип:
- **одна статья = один Markdown-файл**
- можно открыть в Obsidian, VS Code или GitHub
- удобно анализировать агентом

---

## Поток работы

1. Я отправляю в Telegram:
   - текст → сохраняется как `.md`
   - голос → `.ogg` + транскрипт `.txt`
   - картинку → файл в `assets/images`

2. Всё кладётся в `inbox/raw`

3. Команда `/process`:
   - запускает `process_inbox.py`
   - внутри вызывается Claude Code в неинтерактивном режиме

4. Claude Code:
   - читает `_index.md` и существующие статьи
   - решает:
     - куда добавить материал
     - или создать новую статью
   - аккуратно дополняет Markdown

5. Результат:
   - `git add / commit / push`
   - бот присылает ссылку на коммит

---

## Использование Claude Code

Claude Code запускается **один раз на задачу**:

```bash
claude -p "Обработай inbox и обнови статьи"   --output-format json   > logs/claude_runs/run_$(date +%F_%H%M%S).json
```

Свойства:
- не остаётся интерактивного промпта
- процесс завершается сам
- весь вывод сохраняется в лог

---

## Принципы

- агент **не пишет финальный текст**
- агент **не переписывает стиль**
- агент **аккуратно складывает находки**
- все изменения видны через git diff
- человек остаётся главным редактором

---

## Статус

Проект находится в стадии:
> «персональный ассистент для накопления и структурирования знаний»

